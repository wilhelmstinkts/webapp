name: CI

on: [push]

jobs:
  lint:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Lint Ruby
        uses: gimenete/rubocop-action@1.0
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}

  behaviour-test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-ruby@v1
        with:
          ruby-version: '2.6' 
      - name: Behaviour tests
        run: |
          echo Ruby has version
          ruby -v
          echo Bundler has version
          bundle -v
          echo installing requirements
          cd cucumber
          bundle install
          echo Testing behaviour with cucumber          
          cucumber
